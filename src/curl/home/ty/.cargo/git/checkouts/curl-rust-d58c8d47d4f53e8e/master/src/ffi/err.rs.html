<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="Source to the Rust file `/home/ty/.cargo/git/checkouts/curl-rust-d58c8d47d4f53e8e/master/src/ffi/err.rs`.">
    <meta name="keywords" content="rust, rustlang, rust-lang">

    <title>err.rs.html -- source</title>

    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        
        
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content source"><pre class='line-numbers'><span id='1'>  1</span>
<span id='2'>  2</span>
<span id='3'>  3</span>
<span id='4'>  4</span>
<span id='5'>  5</span>
<span id='6'>  6</span>
<span id='7'>  7</span>
<span id='8'>  8</span>
<span id='9'>  9</span>
<span id='10'> 10</span>
<span id='11'> 11</span>
<span id='12'> 12</span>
<span id='13'> 13</span>
<span id='14'> 14</span>
<span id='15'> 15</span>
<span id='16'> 16</span>
<span id='17'> 17</span>
<span id='18'> 18</span>
<span id='19'> 19</span>
<span id='20'> 20</span>
<span id='21'> 21</span>
<span id='22'> 22</span>
<span id='23'> 23</span>
<span id='24'> 24</span>
<span id='25'> 25</span>
<span id='26'> 26</span>
<span id='27'> 27</span>
<span id='28'> 28</span>
<span id='29'> 29</span>
<span id='30'> 30</span>
<span id='31'> 31</span>
<span id='32'> 32</span>
<span id='33'> 33</span>
<span id='34'> 34</span>
<span id='35'> 35</span>
<span id='36'> 36</span>
<span id='37'> 37</span>
<span id='38'> 38</span>
<span id='39'> 39</span>
<span id='40'> 40</span>
<span id='41'> 41</span>
<span id='42'> 42</span>
<span id='43'> 43</span>
<span id='44'> 44</span>
<span id='45'> 45</span>
<span id='46'> 46</span>
<span id='47'> 47</span>
<span id='48'> 48</span>
<span id='49'> 49</span>
<span id='50'> 50</span>
<span id='51'> 51</span>
<span id='52'> 52</span>
<span id='53'> 53</span>
<span id='54'> 54</span>
<span id='55'> 55</span>
<span id='56'> 56</span>
<span id='57'> 57</span>
<span id='58'> 58</span>
<span id='59'> 59</span>
<span id='60'> 60</span>
<span id='61'> 61</span>
<span id='62'> 62</span>
<span id='63'> 63</span>
<span id='64'> 64</span>
<span id='65'> 65</span>
<span id='66'> 66</span>
<span id='67'> 67</span>
<span id='68'> 68</span>
<span id='69'> 69</span>
<span id='70'> 70</span>
<span id='71'> 71</span>
<span id='72'> 72</span>
<span id='73'> 73</span>
<span id='74'> 74</span>
<span id='75'> 75</span>
<span id='76'> 76</span>
<span id='77'> 77</span>
<span id='78'> 78</span>
<span id='79'> 79</span>
<span id='80'> 80</span>
<span id='81'> 81</span>
<span id='82'> 82</span>
<span id='83'> 83</span>
<span id='84'> 84</span>
<span id='85'> 85</span>
<span id='86'> 86</span>
<span id='87'> 87</span>
<span id='88'> 88</span>
<span id='89'> 89</span>
<span id='90'> 90</span>
<span id='91'> 91</span>
<span id='92'> 92</span>
<span id='93'> 93</span>
<span id='94'> 94</span>
<span id='95'> 95</span>
<span id='96'> 96</span>
<span id='97'> 97</span>
<span id='98'> 98</span>
<span id='99'> 99</span>
<span id='100'>100</span>
<span id='101'>101</span>
<span id='102'>102</span>
<span id='103'>103</span>
<span id='104'>104</span>
<span id='105'>105</span>
<span id='106'>106</span>
<span id='107'>107</span>
<span id='108'>108</span>
<span id='109'>109</span>
<span id='110'>110</span>
<span id='111'>111</span>
<span id='112'>112</span>
<span id='113'>113</span>
<span id='114'>114</span>
<span id='115'>115</span>
<span id='116'>116</span>
<span id='117'>117</span>
<span id='118'>118</span>
<span id='119'>119</span>
<span id='120'>120</span>
<span id='121'>121</span>
<span id='122'>122</span>
<span id='123'>123</span>
<span id='124'>124</span>
<span id='125'>125</span>
<span id='126'>126</span>
<span id='127'>127</span>
<span id='128'>128</span>
<span id='129'>129</span>
<span id='130'>130</span>
<span id='131'>131</span>
<span id='132'>132</span>
<span id='133'>133</span>
<span id='134'>134</span>
<span id='135'>135</span>
<span id='136'>136</span>
<span id='137'>137</span>
<span id='138'>138</span>
<span id='139'>139</span>
<span id='140'>140</span>
<span id='141'>141</span>
<span id='142'>142</span>
<span id='143'>143</span>
<span id='144'>144</span>
<span id='145'>145</span>
<span id='146'>146</span>
<span id='147'>147</span>
<span id='148'>148</span>
<span id='149'>149</span>
<span id='150'>150</span>
</pre><pre class='rust '>
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>c_str</span>::<span class='ident'>CString</span>;
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>fmt</span>;
<span class='kw'>use</span> <span class='ident'>libc</span>::{<span class='ident'>c_int</span>,<span class='ident'>c_char</span>};

<span class='attribute'>#[<span class='ident'>allow</span>(<span class='ident'>non_camel_case_types</span>)]</span>

<span class='attribute'>#[<span class='ident'>repr</span>(<span class='ident'>C</span>)]</span>
<span class='kw'>pub</span> <span class='kw'>enum</span> <span class='ident'>ErrCode</span> {
    <span class='ident'>OK</span> <span class='op'>=</span> <span class='number'>0</span>,
    <span class='ident'>UNSUPPORTED_PROTOCOL</span>,    <span class='comment'>/* 1 */</span>
    <span class='ident'>FAILED_INIT</span>,             <span class='comment'>/* 2 */</span>
    <span class='ident'>URL_MALFORMAT</span>,           <span class='comment'>/* 3 */</span>
    <span class='ident'>NOT_BUILT_IN</span>,            <span class='comment'>/* 4 - [was obsoleted in August 2007 for
                                7.17.0, reused in April 2011 for 7.21.5] */</span>
    <span class='ident'>COULDNT_RESOLVE_PROXY</span>,   <span class='comment'>/* 5 */</span>
    <span class='ident'>COULDNT_RESOLVE_HOST</span>,    <span class='comment'>/* 6 */</span>
    <span class='ident'>COULDNT_CONNECT</span>,         <span class='comment'>/* 7 */</span>
    <span class='ident'>FTP_WEIRD_SERVER_REPLY</span>,  <span class='comment'>/* 8 */</span>
    <span class='ident'>REMOTE_ACCESS_DENIED</span>,    <span class='comment'>/* 9 a service was denied by the server
                                due to lack of access - when login fails
                                this is not returned. */</span>
    <span class='ident'>FTP_ACCEPT_FAILED</span>,       <span class='comment'>/* 10 - [was obsoleted in April 2006 for
                                7.15.4, reused in Dec 2011 for 7.24.0]*/</span>
    <span class='ident'>FTP_WEIRD_PASS_REPLY</span>,    <span class='comment'>/* 11 */</span>
    <span class='ident'>FTP_ACCEPT_TIMEOUT</span>,      <span class='comment'>/* 12 - timeout occurred accepting server
                                [was obsoleted in August 2007 for 7.17.0,
                                reused in Dec 2011 for 7.24.0]*/</span>
    <span class='ident'>FTP_WEIRD_PASV_REPLY</span>,    <span class='comment'>/* 13 */</span>
    <span class='ident'>FTP_WEIRD_227_FORMAT</span>,    <span class='comment'>/* 14 */</span>
    <span class='ident'>FTP_CANT_GET_HOST</span>,       <span class='comment'>/* 15 */</span>
    <span class='ident'>OBSOLETE16</span>,              <span class='comment'>/* 16 - NOT USED */</span>
    <span class='ident'>FTP_COULDNT_SET_TYPE</span>,    <span class='comment'>/* 17 */</span>
    <span class='ident'>PARTIAL_FILE</span>,            <span class='comment'>/* 18 */</span>
    <span class='ident'>FTP_COULDNT_RETR_FILE</span>,   <span class='comment'>/* 19 */</span>
    <span class='ident'>OBSOLETE20</span>,              <span class='comment'>/* 20 - NOT USED */</span>
    <span class='ident'>QUOTE_ERROR</span>,             <span class='comment'>/* 21 - quote command failure */</span>
    <span class='ident'>HTTP_RETURNED_ERROR</span>,     <span class='comment'>/* 22 */</span>
    <span class='ident'>WRITE_ERROR</span>,             <span class='comment'>/* 23 */</span>
    <span class='ident'>OBSOLETE24</span>,              <span class='comment'>/* 24 - NOT USED */</span>
    <span class='ident'>UPLOAD_FAILED</span>,           <span class='comment'>/* 25 - failed upload &quot;command&quot; */</span>
    <span class='ident'>READ_ERROR</span>,              <span class='comment'>/* 26 - couldn&#39;t open/read from file */</span>
    <span class='ident'>OUT_OF_MEMORY</span>,           <span class='comment'>/* 27 */</span>
    <span class='comment'>/* Note: CURLE_OUT_OF_MEMORY may sometimes indicate a conversion error
       instead of a memory allocation error if CURL_DOES_CONVERSIONS
       is defined
       */</span>
    <span class='ident'>OPERATION_TIMEDOUT</span>,      <span class='comment'>/* 28 - the timeout time was reached */</span>
    <span class='ident'>OBSOLETE29</span>,              <span class='comment'>/* 29 - NOT USED */</span>
    <span class='ident'>FTP_PORT_FAILED</span>,         <span class='comment'>/* 30 - FTP PORT operation failed */</span>
    <span class='ident'>FTP_COULDNT_USE_REST</span>,    <span class='comment'>/* 31 - the REST command failed */</span>
    <span class='ident'>OBSOLETE32</span>,              <span class='comment'>/* 32 - NOT USED */</span>
    <span class='ident'>RANGE_ERROR</span>,             <span class='comment'>/* 33 - RANGE &quot;command&quot; didn&#39;t work */</span>
    <span class='ident'>HTTP_POST_ERROR</span>,         <span class='comment'>/* 34 */</span>
    <span class='ident'>SSL_CONNECT_ERROR</span>,       <span class='comment'>/* 35 - wrong when connecting with SSL */</span>
    <span class='ident'>BAD_DOWNLOAD_RESUME</span>,     <span class='comment'>/* 36 - couldn&#39;t resume download */</span>
    <span class='ident'>FILE_COULDNT_READ_FILE</span>,  <span class='comment'>/* 37 */</span>
    <span class='ident'>LDAP_CANNOT_BIND</span>,        <span class='comment'>/* 38 */</span>
    <span class='ident'>LDAP_SEARCH_FAILED</span>,      <span class='comment'>/* 39 */</span>
    <span class='ident'>OBSOLETE40</span>,              <span class='comment'>/* 40 - NOT USED */</span>
    <span class='ident'>FUNCTION_NOT_FOUND</span>,      <span class='comment'>/* 41 */</span>
    <span class='ident'>ABORTED_BY_CALLBACK</span>,     <span class='comment'>/* 42 */</span>
    <span class='ident'>BAD_FUNCTION_ARGUMENT</span>,   <span class='comment'>/* 43 */</span>
    <span class='ident'>OBSOLETE44</span>,              <span class='comment'>/* 44 - NOT USED */</span>
    <span class='ident'>INTERFACE_FAILED</span>,        <span class='comment'>/* 45 - CURLOPT_INTERFACE failed */</span>
    <span class='ident'>OBSOLETE46</span>,              <span class='comment'>/* 46 - NOT USED */</span>
    <span class='ident'>TOO_MANY_REDIRECTS</span> ,     <span class='comment'>/* 47 - catch endless re-direct loops */</span>
    <span class='ident'>UNKNOWN_OPTION</span>,          <span class='comment'>/* 48 - User specified an unknown option */</span>
    <span class='ident'>TELNET_OPTION_SYNTAX</span> ,   <span class='comment'>/* 49 - Malformed telnet option */</span>
    <span class='ident'>OBSOLETE50</span>,              <span class='comment'>/* 50 - NOT USED */</span>
    <span class='ident'>PEER_FAILED_VERIFICATION</span>, <span class='comment'>/* 51 - peer&#39;s certificate or fingerprint
                                 wasn&#39;t verified fine */</span>
    <span class='ident'>GOT_NOTHING</span>,             <span class='comment'>/* 52 - when this is a specific error */</span>
    <span class='ident'>SSL_ENGINE_NOTFOUND</span>,     <span class='comment'>/* 53 - SSL crypto engine not found */</span>
    <span class='ident'>SSL_ENGINE_SETFAILED</span>,    <span class='comment'>/* 54 - can not set SSL crypto engine as
                                default */</span>
    <span class='ident'>SEND_ERROR</span>,              <span class='comment'>/* 55 - failed sending network data */</span>
    <span class='ident'>RECV_ERROR</span>,              <span class='comment'>/* 56 - failure in receiving network data */</span>
    <span class='ident'>OBSOLETE57</span>,              <span class='comment'>/* 57 - NOT IN USE */</span>
    <span class='ident'>SSL_CERTPROBLEM</span>,         <span class='comment'>/* 58 - problem with the local certificate */</span>
    <span class='ident'>SSL_CIPHER</span>,              <span class='comment'>/* 59 - couldn&#39;t use specified cipher */</span>
    <span class='ident'>SSL_CACERT</span>,              <span class='comment'>/* 60 - problem with the CA cert (path?) */</span>
    <span class='ident'>BAD_CONTENT_ENCODING</span>,    <span class='comment'>/* 61 - Unrecognized/bad encoding */</span>
    <span class='ident'>LDAP_INVALID_URL</span>,        <span class='comment'>/* 62 - Invalid LDAP URL */</span>
    <span class='ident'>FILESIZE_EXCEEDED</span>,       <span class='comment'>/* 63 - Maximum file size exceeded */</span>
    <span class='ident'>USE_SSL_FAILED</span>,          <span class='comment'>/* 64 - Requested FTP SSL level failed */</span>
    <span class='ident'>SEND_FAIL_REWIND</span>,        <span class='comment'>/* 65 - Sending the data requires a rewind
                                that failed */</span>
    <span class='ident'>SSL_ENGINE_INITFAILED</span>,   <span class='comment'>/* 66 - failed to initialise ENGINE */</span>
    <span class='ident'>LOGIN_DENIED</span>,            <span class='comment'>/* 67 - user, password or similar was not
                                accepted and we failed to login */</span>
    <span class='ident'>TFTP_NOTFOUND</span>,           <span class='comment'>/* 68 - file not found on server */</span>
    <span class='ident'>TFTP_PERM</span>,               <span class='comment'>/* 69 - permission problem on server */</span>
    <span class='ident'>REMOTE_DISK_FULL</span>,        <span class='comment'>/* 70 - out of disk space on server */</span>
    <span class='ident'>TFTP_ILLEGAL</span>,            <span class='comment'>/* 71 - Illegal TFTP operation */</span>
    <span class='ident'>TFTP_UNKNOWNID</span>,          <span class='comment'>/* 72 - Unknown transfer ID */</span>
    <span class='ident'>REMOTE_FILE_EXISTS</span>,      <span class='comment'>/* 73 - File already exists */</span>
    <span class='ident'>TFTP_NOSUCHUSER</span>,         <span class='comment'>/* 74 - No such user */</span>
    <span class='ident'>CONV_FAILED</span>,             <span class='comment'>/* 75 - conversion failed */</span>
    <span class='ident'>CONV_REQD</span>,               <span class='comment'>/* 76 - caller must register conversion
                                callbacks using curl_easy_setopt options
                                CURLOPT_CONV_FROM_NETWORK_FUNCTION,
                                CURLOPT_CONV_TO_NETWORK_FUNCTION, and
                                CURLOPT_CONV_FROM_UTF8_FUNCTION */</span>
    <span class='ident'>SSL_CACERT_BADFILE</span>,      <span class='comment'>/* 77 - could not load CACERT file, missing
                                or wrong format */</span>
    <span class='ident'>REMOTE_FILE_NOT_FOUND</span>,   <span class='comment'>/* 78 - remote file not found */</span>
    <span class='ident'>SSH</span>,                     <span class='comment'>/* 79 - error from the SSH layer, somewhat
                                generic so the error message will be of
                                interest when this has happened */</span>

    <span class='ident'>SSL_SHUTDOWN_FAILED</span>,     <span class='comment'>/* 80 - Failed to shut down the SSL
                                connection */</span>
    <span class='ident'>AGAIN</span>,                   <span class='comment'>/* 81 - socket is not ready for send/recv,
                                wait till it&#39;s ready and try again (Added
                                in 7.18.2) */</span>
    <span class='ident'>SSL_CRL_BADFILE</span>,         <span class='comment'>/* 82 - could not load CRL file, missing or
                                wrong format (Added in 7.19.0) */</span>
    <span class='ident'>SSL_ISSUER_ERROR</span>,        <span class='comment'>/* 83 - Issuer check failed.  (Added in
                                7.19.0) */</span>
    <span class='ident'>FTP_PRET_FAILED</span>,         <span class='comment'>/* 84 - a PRET command failed */</span>
    <span class='ident'>RTSP_CSEQ_ERROR</span>,         <span class='comment'>/* 85 - mismatch of RTSP CSeq numbers */</span>
    <span class='ident'>RTSP_SESSION_ERROR</span>,      <span class='comment'>/* 86 - mismatch of RTSP Session Ids */</span>
    <span class='ident'>FTP_BAD_FILE_LIST</span>,       <span class='comment'>/* 87 - unable to parse FTP file list */</span>
    <span class='ident'>CHUNK_FAILED</span>,            <span class='comment'>/* 88 - chunk callback reported error */</span>
    <span class='ident'>NO_CONNECTION_AVAILABLE</span>, <span class='comment'>/* 89 - No connection available, the
                                session will be queued */</span>
    <span class='ident'>LAST</span> <span class='comment'>/* never use! */</span>
}

<span class='attribute'>#[<span class='ident'>link</span>(<span class='ident'>name</span> <span class='op'>=</span> <span class='string'>&quot;curl&quot;</span>)]</span>
<span class='kw'>extern</span> {
    <span class='kw'>fn</span> <span class='ident'>curl_easy_strerror</span>(<span class='ident'>code</span>: <span class='ident'>ErrCode</span>) <span class='op'>-&gt;</span> <span class='op'>*</span><span class='kw'>const</span> <span class='ident'>c_char</span>;
}

<span class='kw'>impl</span> <span class='ident'>ErrCode</span> {
    <span class='kw'>pub</span> <span class='kw'>fn</span> <span class='ident'>is_success</span>(<span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>bool</span> {
        (<span class='self'>self</span> <span class='kw'>as</span> <span class='ident'>c_int</span>) <span class='op'>==</span> <span class='number'>0</span>
    }
}

<span class='kw'>impl</span> <span class='ident'>fmt</span>::<span class='ident'>Show</span> <span class='kw'>for</span> <span class='ident'>ErrCode</span> {
    <span class='kw'>fn</span> <span class='ident'>fmt</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>fmt</span>: <span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>fmt</span>::<span class='ident'>Formatter</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='ident'>fmt</span>::<span class='ident'>FormatError</span><span class='op'>&gt;</span> {
        <span class='kw'>let</span> <span class='ident'>c_str</span> <span class='op'>=</span> <span class='kw'>unsafe</span> { <span class='ident'>CString</span>::<span class='ident'>new</span>(<span class='ident'>curl_easy_strerror</span>(<span class='op'>*</span><span class='self'>self</span>), <span class='boolval'>false</span>) };

        <span class='kw'>match</span> <span class='ident'>c_str</span>.<span class='ident'>as_str</span>() {
            <span class='prelude-val'>Some</span>(<span class='ident'>s</span>) <span class='op'>=&gt;</span> <span class='macro'>write</span><span class='macro'>!</span>(<span class='ident'>fmt</span>, <span class='string'>&quot;{}&quot;</span>, <span class='ident'>s</span>),
            <span class='prelude-val'>None</span> <span class='op'>=&gt;</span> <span class='macro'>write</span><span class='macro'>!</span>(<span class='ident'>fmt</span>, <span class='string'>&quot;&lt;unknown err&gt;&quot;</span>)
        }
    }
}
</pre>
</section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code>, <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../../../../../../../../../../../";
        window.currentCrate = "curl";
        window.playgroundUrl = "";
    </script>
    <script src="../../../../../../../../../../../jquery.js"></script>
    <script src="../../../../../../../../../../../main.js"></script>
    
    <script async src="../../../../../../../../../../../search-index.js"></script>
</body>
</html>